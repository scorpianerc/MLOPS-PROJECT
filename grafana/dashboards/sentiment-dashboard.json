{
    "title":  "Sentiment Analysis Dashboard",
    "uid":  "sentiment-dashboard",
    "timezone":  "browser",
    "schemaVersion":  27,
    "version":  1,
    "refresh":  "30s",
    "panels":  [
                   {
                       "id":  1,
                       "title":  "Total Reviews",
                       "type":  "stat",
                       "gridPos":  {
                                       "h":  6,
                                       "w":  6,
                                       "x":  0,
                                       "y":  0
                                   },
                       "targets":  [
                                       {
                                           "datasource":  "PostgreSQL",
                                           "rawSql":  "SELECT COUNT(*) as total FROM reviews",
                                           "format":  "table"
                                       }
                                   ],
                       "options":  {
                                       "graphMode":  "none",
                                       "colorMode":  "value"
                                   },
                       "fieldConfig":  {
                                           "defaults":  {
                                                            "mappings":  [

                                                                         ],
                                                            "thresholds":  {
                                                                               "mode":  "absolute",
                                                                               "steps":  [
                                                                                             {
                                                                                                 "value":  null,
                                                                                                 "color":  "green"
                                                                                             }
                                                                                         ]
                                                                           }
                                                        }
                                       }
                   },
                   {
                       "id":  2,
                       "title":  "Predicted Reviews",
                       "type":  "stat",
                       "gridPos":  {
                                       "h":  6,
                                       "w":  6,
                                       "x":  6,
                                       "y":  0
                                   },
                       "targets":  [
                                       {
                                           "datasource":  "PostgreSQL",
                                           "rawSql":  "SELECT COUNT(*) as predicted FROM reviews WHERE sentiment IS NOT NULL",
                                           "format":  "table"
                                       }
                                   ],
                       "options":  {
                                       "graphMode":  "none",
                                       "colorMode":  "value"
                                   }
                   },
                   {
                       "id":  3,
                       "title":  "Average Rating",
                       "type":  "stat",
                       "gridPos":  {
                                       "h":  6,
                                       "w":  6,
                                       "x":  12,
                                       "y":  0
                                   },
                       "targets":  [
                                       {
                                           "datasource":  "PostgreSQL",
                                           "rawSql":  "SELECT AVG(rating)::numeric(10,2) as avg_rating FROM reviews",
                                           "format":  "table"
                                       }
                                   ],
                       "options":  {
                                       "graphMode":  "area",
                                       "colorMode":  "value"
                                   },
                       "fieldConfig":  {
                                           "defaults":  {
                                                            "min":  1,
                                                            "max":  5,
                                                            "thresholds":  {
                                                                               "mode":  "absolute",
                                                                               "steps":  [
                                                                                             {
                                                                                                 "value":  1,
                                                                                                 "color":  "red"
                                                                                             },
                                                                                             {
                                                                                                 "value":  3,
                                                                                                 "color":  "yellow"
                                                                                             },
                                                                                             {
                                                                                                 "value":  4,
                                                                                                 "color":  "green"
                                                                                             }
                                                                                         ]
                                                                           }
                                                        }
                                       }
                   },
                   {
                       "id":  4,
                       "title":  "Unpredicted Reviews",
                       "type":  "stat",
                       "gridPos":  {
                                       "h":  6,
                                       "w":  6,
                                       "x":  18,
                                       "y":  0
                                   },
                       "targets":  [
                                       {
                                           "datasource":  "PostgreSQL",
                                           "rawSql":  "SELECT COUNT(*) as unpredicted FROM reviews WHERE sentiment IS NULL",
                                           "format":  "table"
                                       }
                                   ],
                       "options":  {
                                       "graphMode":  "none",
                                       "colorMode":  "value"
                                   },
                       "fieldConfig":  {
                                           "defaults":  {
                                                            "thresholds":  {
                                                                               "mode":  "absolute",
                                                                               "steps":  [
                                                                                             {
                                                                                                 "value":  0,
                                                                                                 "color":  "green"
                                                                                             },
                                                                                             {
                                                                                                 "value":  50,
                                                                                                 "color":  "yellow"
                                                                                             },
                                                                                             {
                                                                                                 "value":  100,
                                                                                                 "color":  "red"
                                                                                             }
                                                                                         ]
                                                                           }
                                                        }
                                       }
                   },
                   {
                       "id":  5,
                       "title":  "Sentiment Distribution",
                       "type":  "piechart",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  12,
                                       "x":  0,
                                       "y":  6
                                   },
                       "targets":  [
                                       {
                                           "datasource":  "PostgreSQL",
                                           "rawSql":  "SELECT sentiment, COUNT(*) as count FROM reviews WHERE sentiment IS NOT NULL GROUP BY sentiment",
                                           "format":  "table"
                                       }
                                   ],
                       "options":  {
                                       "legend":  {
                                                      "displayMode":  "list",
                                                      "placement":  "bottom"
                                                  }
                                   },
                       "fieldConfig":  {
                                           "overrides":  [
                                                             {
                                                                 "matcher":  {
                                                                                 "id":  "byName",
                                                                                 "options":  "positive"
                                                                             },
                                                                 "properties":  [
                                                                                    {
                                                                                        "id":  "color",
                                                                                        "value":  {
                                                                                                      "fixedColor":  "green",
                                                                                                      "mode":  "fixed"
                                                                                                  }
                                                                                    }
                                                                                ]
                                                             },
                                                             {
                                                                 "matcher":  {
                                                                                 "id":  "byName",
                                                                                 "options":  "negative"
                                                                             },
                                                                 "properties":  [
                                                                                    {
                                                                                        "id":  "color",
                                                                                        "value":  {
                                                                                                      "fixedColor":  "red",
                                                                                                      "mode":  "fixed"
                                                                                                  }
                                                                                    }
                                                                                ]
                                                             },
                                                             {
                                                                 "matcher":  {
                                                                                 "id":  "byName",
                                                                                 "options":  "neutral"
                                                                             },
                                                                 "properties":  [
                                                                                    {
                                                                                        "id":  "color",
                                                                                        "value":  {
                                                                                                      "fixedColor":  "yellow",
                                                                                                      "mode":  "fixed"
                                                                                                  }
                                                                                    }
                                                                                ]
                                                             }
                                                         ]
                                       }
                   },
                   {
                       "id":  6,
                       "title":  "Rating Distribution",
                       "type":  "barchart",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  12,
                                       "x":  12,
                                       "y":  6
                                   },
                       "targets":  [
                                       {
                                           "datasource":  "PostgreSQL",
                                           "rawSql":  "SELECT rating, COUNT(*) as count FROM reviews GROUP BY rating ORDER BY rating",
                                           "format":  "table"
                                       }
                                   ],
                       "options":  {
                                       "orientation":  "horizontal",
                                       "xField":  "rating"
                                   }
                   },
                   {
                       "id":  7,
                       "title":  "Sentiment Trend Over Time",
                       "type":  "timeseries",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  24,
                                       "x":  0,
                                       "y":  14
                                   },
                       "targets":  [
                                       {
                                           "datasource":  "PostgreSQL",
                                           "rawSql":  "SELECT DATE_TRUNC(\u0027day\u0027, review_date) as time, sentiment, COUNT(*) as count FROM reviews WHERE sentiment IS NOT NULL GROUP BY time, sentiment ORDER BY time",
                                           "format":  "time_series"
                                       }
                                   ],
                       "fieldConfig":  {
                                           "defaults":  {
                                                            "custom":  {
                                                                           "drawStyle":  "line",
                                                                           "lineInterpolation":  "smooth",
                                                                           "fillOpacity":  10,
                                                                           "stacking":  {
                                                                                            "mode":  "normal"
                                                                                        }
                                                                       }
                                                        },
                                           "overrides":  [
                                                             {
                                                                 "matcher":  {
                                                                                 "id":  "byName",
                                                                                 "options":  "positive"
                                                                             },
                                                                 "properties":  [
                                                                                    {
                                                                                        "id":  "color",
                                                                                        "value":  {
                                                                                                      "fixedColor":  "green",
                                                                                                      "mode":  "fixed"
                                                                                                  }
                                                                                    }
                                                                                ]
                                                             },
                                                             {
                                                                 "matcher":  {
                                                                                 "id":  "byName",
                                                                                 "options":  "negative"
                                                                             },
                                                                 "properties":  [
                                                                                    {
                                                                                        "id":  "color",
                                                                                        "value":  {
                                                                                                      "fixedColor":  "red",
                                                                                                      "mode":  "fixed"
                                                                                                  }
                                                                                    }
                                                                                ]
                                                             },
                                                             {
                                                                 "matcher":  {
                                                                                 "id":  "byName",
                                                                                 "options":  "neutral"
                                                                             },
                                                                 "properties":  [
                                                                                    {
                                                                                        "id":  "color",
                                                                                        "value":  {
                                                                                                      "fixedColor":  "yellow",
                                                                                                      "mode":  "fixed"
                                                                                                  }
                                                                                    }
                                                                                ]
                                                             }
                                                         ]
                                       }
                   },
                   {
                       "id":  8,
                       "title":  "Recent Reviews",
                       "type":  "table",
                       "gridPos":  {
                                       "h":  10,
                                       "w":  24,
                                       "x":  0,
                                       "y":  22
                                   },
                       "targets":  [
                                       {
                                           "datasource":  "PostgreSQL",
                                           "rawSql":  "SELECT user_name, LEFT(review_text, 100) as review, rating, sentiment, sentiment_score, review_date FROM reviews ORDER BY review_date DESC LIMIT 20",
                                           "format":  "table"
                                       }
                                   ],
                       "options":  {
                                       "showHeader":  true
                                   },
                       "fieldConfig":  {
                                           "overrides":  [
                                                             {
                                                                 "matcher":  {
                                                                                 "id":  "byName",
                                                                                 "options":  "sentiment"
                                                                             },
                                                                 "properties":  [
                                                                                    {
                                                                                        "id":  "custom.cellOptions",
                                                                                        "value":  {
                                                                                                      "type":  "color-text"
                                                                                                  }
                                                                                    },
                                                                                    {
                                                                                        "id":  "mappings",
                                                                                        "value":  [
                                                                                                      {
                                                                                                          "type":  "value",
                                                                                                          "options":  {
                                                                                                                          "positive":  {
                                                                                                                                           "color":  "green"
                                                                                                                                       }
                                                                                                                      }
                                                                                                      },
                                                                                                      {
                                                                                                          "type":  "value",
                                                                                                          "options":  {
                                                                                                                          "negative":  {
                                                                                                                                           "color":  "red"
                                                                                                                                       }
                                                                                                                      }
                                                                                                      },
                                                                                                      {
                                                                                                          "type":  "value",
                                                                                                          "options":  {
                                                                                                                          "neutral":  {
                                                                                                                                          "color":  "yellow"
                                                                                                                                      }
                                                                                                                      }
                                                                                                      }
                                                                                                  ]
                                                                                    }
                                                                                ]
                                                             }
                                                         ]
                                       }
                   },
                   {
                       "id":  9,
                       "title":  "Sentiment by Rating",
                       "type":  "barchart",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  12,
                                       "x":  0,
                                       "y":  32
                                   },
                       "targets":  [
                                       {
                                           "datasource":  "PostgreSQL",
                                           "rawSql":  "SELECT rating, sentiment, COUNT(*) as count FROM reviews WHERE sentiment IS NOT NULL GROUP BY rating, sentiment ORDER BY rating",
                                           "format":  "table"
                                       }
                                   ],
                       "options":  {
                                       "orientation":  "vertical"
                                   }
                   },
                   {
                       "id":  10,
                       "title":  "Average Sentiment Score by Date",
                       "type":  "timeseries",
                       "gridPos":  {
                                       "h":  8,
                                       "w":  12,
                                       "x":  12,
                                       "y":  32
                                   },
                       "targets":  [
                                       {
                                           "datasource":  "PostgreSQL",
                                           "rawSql":  "SELECT DATE_TRUNC(\u0027day\u0027, review_date) as time, AVG(sentiment_score)::numeric(10,2) as avg_score FROM reviews WHERE sentiment IS NOT NULL GROUP BY time ORDER BY time",
                                           "format":  "time_series"
                                       }
                                   ],
                       "fieldConfig":  {
                                           "defaults":  {
                                                            "custom":  {
                                                                           "drawStyle":  "line",
                                                                           "lineInterpolation":  "smooth"
                                                                       },
                                                            "min":  0,
                                                            "max":  1
                                                        }
                                       }
                   }
               ]
}
